import { PersonBaseValidator, RecordValidator, SimpleAddressValidator } from 'EPZEU.CR.Domain';
import { F219_PledgeExecutionDepozitar } from '../ModelsAutoGenerated';

export class F219_PledgeExecutionDepozitarValidator extends RecordValidator<F219_PledgeExecutionDepozitar> {

    public validateInternal(obj: F219_PledgeExecutionDepozitar): boolean {
        let isValid = super.validateInternal(obj);

        if (!this.validationContext.isRecordEmpty(obj)) {

            let addressValidator = new SimpleAddressValidator();
            addressValidator.setValidationContext(this.validationContext);
            let isValidAddress = addressValidator.validate(obj.address);

            let personValidator = new PersonBaseValidator();
            let isValidPerson = personValidator.validate(obj.person);

            if (!isValidAddress)
                isValid = false;

            if (!isValidPerson)
                isValid = false;

        } else {
            obj.person.clearErrors(true);
            obj.address.clearErrors();
        }

        return isValid;
    }
}