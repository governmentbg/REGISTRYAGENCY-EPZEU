import { EPZEUBaseComponent, Nomenclatures, ValidationSummaryStrategy } from 'EPZEU.Core';
import { ListRecordsContainerProps, Person, PersonTypes, PersonUI, withFieldSingleListRecordsContainer } from 'EPZEU.CR.Domain';
import * as React from "react";
import { F5020_Liquidator } from '../../Models/Fields/ModelsAutoGenerated';

class F502_LiquidatorsUI extends EPZEUBaseComponent<ListRecordsContainerProps, F5020_Liquidator> {

    renderEdit(): JSX.Element {
        return <PersonUI {...this.bind(m => m.subject)} PersonType={PersonTypes.Liquidator} />
    }

    renderDisplay(): JSX.Element {
        return <PersonUI {...this.bind(m => m.subject)} PersonType={PersonTypes.Liquidator} />
    }
}
export const F502_LiquidatorsFieldUI = withFieldSingleListRecordsContainer(F502_LiquidatorsUI, F5020_Liquidator, {
    addButtonLabelKey: "CR_APP_ADD_LIQUIDATOR_L",
    listSelector: m => m.liquidatorList,
    fieldLabelTextKey: "CR_F_502_L",
    hasAtLeastOneRecord: true,
    isMandatoryField: true,
    valSummaryStrategy: ValidationSummaryStrategy.excludeAllExcept,
    valSummaryRecursive: true,
    valSummaryPropNames: ["", "subject."],
    newRecordCtor: () => {
        return Nomenclatures.getBGCountry().then(bgCountry => {
            var liguidator = new F5020_Liquidator();

            liguidator.subject = new Person();
            liguidator.subject.countryCode = bgCountry.code;
            liguidator.subject.countryID = bgCountry.id;
            liguidator.subject.countryName = bgCountry.name;

            return liguidator;
        })
    }
})