import { withAsyncFrame } from "Cnsys.UI.React";
import { EPZEUBaseComponent, ValidationSummaryStrategy } from 'EPZEU.Core';
import { AddressUI, ListRecordsContainerProps, PersonTypes, PersonUI, withFieldSingleListRecordsContainer } from 'EPZEU.CR.Domain';
import { observer } from 'mobx-react';
import * as React from "react";
import { F4010_Distraint } from '../../Models/Fields/ModelsAutoGenerated';

@observer class F401_DistraintsUI extends EPZEUBaseComponent<ListRecordsContainerProps, F4010_Distraint> {

    renderEdit(): JSX.Element {
        return (<>
            <PersonUI {...this.bind(m => m.subject, 'Distraint')} PersonType={PersonTypes.Distraint} />
            <AddressUI {...this.bind(m => m.address)} disabledCountry={false} />
        </>
        )
    }

    renderDisplay(): JSX.Element {
        return (<>
            <PersonUI {...this.bind(m => m.subject, 'Distraint')} PersonType={PersonTypes.Distraint} />
            <AddressUI {...this.bind(m => m.address)} disabledCountry={false} />
        </>
        );
    }
}

export const F401_DistraintsFieldListUI = withFieldSingleListRecordsContainer(withAsyncFrame(F401_DistraintsUI), F4010_Distraint, {
    listSelector: m => m.distraintsList,
    addButtonLabelKey: 'CR_APP_ADD_NEW_PERSON_L',
    fieldLabelTextKey: "CR_F_401_L",
    valSummaryStrategy: ValidationSummaryStrategy.excludeAllExcept,
    valSummaryRecursive: true,
    valSummaryPropNames: ["", "subject."],
    hasAtLeastOneRecord: true,
    isMandatoryField: true
});