import { EPZEUBaseComponent, Nomenclatures } from 'EPZEU.Core';
import { FieldContainerProps, MandateUI, Person, withFieldContainer, SectionSubTitle } from 'EPZEU.CR.Domain';
import * as React from "react";
import { F01301_BoardManager, F013_BoardOfManagers } from '../../Models/Fields/ModelsAutoGenerated';
import { F01321_BoardManagerUI } from "./F01321_BoardManagerUI";

class F013_BoardOfManagersUI extends EPZEUBaseComponent<FieldContainerProps, F013_BoardOfManagers> {

    renderEdit(): JSX.Element {
        return (<>
            <MandateUI {...this.bind(m => m.managerMandate)} />
            <SectionSubTitle subTitleTextKey={"CR_APP_MEMBERS_MANAGEMENT_BOARD_L"} />
            <F01321_BoardManagerUI {...this.bind(x => x.boardManagerList)} newRecordCtor={() => {
                return Nomenclatures.getBGCountry().then(bgCountry => {
                    var manager = new F01301_BoardManager();

                    manager.person = new Person();
                    manager.person.countryCode = bgCountry.code;
                    manager.person.countryID = bgCountry.id;
                    manager.person.countryName = bgCountry.name;

                    return manager;
                })
            }} />
        </>);
    }

    renderDisplay(): JSX.Element {
        return (<>
            <MandateUI {...this.bind(m => m.managerMandate)} />
            <F01321_BoardManagerUI {...this.bind(x => x.boardManagerList)} />
        </>);
    }
}

export const F013_BoardOfManagersFieldUI = withFieldContainer(F013_BoardOfManagersUI, {
    fieldLabelTextKey: "CR_F_13_L"
});