import * as React from "react";
import { EPZEUBaseComponent, ValidationSummaryStrategy, Nomenclatures } from 'EPZEU.Core'
import { F007a0_AssignedManager } from '../../Models/Fields/ModelsAutoGenerated'
import { withFieldSingleListRecordsContainer, ListRecordsContainerProps, PersonUI, PersonTypes, SectionInfoUI, Person } from 'EPZEU.CR.Domain';

class F007a0_AssignedManagerUI extends EPZEUBaseComponent<ListRecordsContainerProps, F007a0_AssignedManager> {

    renderEdit(): JSX.Element {
        return (
            <>               
                <PersonUI {...this.bind(m => m.subject)} PersonType={PersonTypes.AssignedManager}   />
            </>);
    }

    renderDisplay(): JSX.Element {
        return (
            <>
                <PersonUI {...this.bind(m => m.subject)} PersonType={PersonTypes.AssignedManager} />
            </>
        );
    }
}
export const F007a_AssignedManagersFieldUI = withFieldSingleListRecordsContainer(F007a0_AssignedManagerUI, F007a0_AssignedManager, {
    addButtonLabelKey: "CR_APP_ADD_PERSON_ASSIGNED_TO_MANAGEMENT_L",
    listSelector: m => m.assignedManageList,
    fieldLabelTextKey: "CR_F_7a_L",
    hasAtLeastOneRecord: true,
    valSummaryStrategy: ValidationSummaryStrategy.excludeAllExcept,
    valSummaryRecursive: true,
    valSummaryPropNames: ["", "subject."],
    newRecordCtor: () => {
        return Nomenclatures.getBGCountry().then(bgCountry => {
            var manager = new F007a0_AssignedManager();

            manager.subject = new Person();
            manager.subject.countryCode = bgCountry.code;
            manager.subject.countryID = bgCountry.id;
            manager.subject.countryName = bgCountry.name;

            return manager;
        })
    }
})
