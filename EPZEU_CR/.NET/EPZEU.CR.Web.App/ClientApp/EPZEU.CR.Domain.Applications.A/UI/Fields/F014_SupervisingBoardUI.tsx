import { EPZEUBaseComponent, Nomenclatures, ValidationSummary, ValidationSummaryStrategy } from 'EPZEU.Core';
import { FieldContainerProps, MandateUI, Person, withFieldContainer, SectionSubTitle } from 'EPZEU.CR.Domain';
import * as React from "react";
import { F01401_Supervisor, F014_SupervisingBoard } from '../../Models/Fields/ModelsAutoGenerated';
import { F01401_SupervisorUI } from "./F01401_SupervisorUI";

class F014_SupervisingBoardUI extends EPZEUBaseComponent<FieldContainerProps, F014_SupervisingBoard> {

    renderEdit(): JSX.Element {
        return (
            <>
                <ValidationSummary {...this.props} strategy={ValidationSummaryStrategy.includeOnlyModelErrors} />
                <MandateUI {...this.bind(m => m.supervisingBoardMandate)} />
                <SectionSubTitle subTitleTextKey={"CR_APP_MEMBERS_SUPERVISING_BOARD_L"} />
                <F01401_SupervisorUI {...this.bind(x => x.supervisorList)} newRecordCtor={() => {
                    return Nomenclatures.getBGCountry().then(bgCountry => {
                        var supervisor = new F01401_Supervisor();

                        supervisor.subject = new Person();
                        supervisor.subject.countryCode = bgCountry.code;
                        supervisor.subject.countryID = bgCountry.id;
                        supervisor.subject.countryName = bgCountry.name;

                        return supervisor;
                    })
                }} />
            </>);
    }

    renderDisplay(): JSX.Element {
        return (
            <>
                <MandateUI {...this.bind(m => m.supervisingBoardMandate)} />
                <F01401_SupervisorUI {...this.bind(x => x.supervisorList)} />
                <ValidationSummary {...this.props} strategy={ValidationSummaryStrategy.includeOnlyModelErrors} />
            </>
        );
    }
}

export const F014_SupervisingBoardFieldUI = withFieldContainer(F014_SupervisingBoardUI, {
    fieldLabelTextKey: "CR_F_14_L"
});