import * as React from "react";
import { EPZEUBaseComponent, Nomenclatures, ValidationSummary, ValidationSummaryErrorsPreviewUI, ValidationSummaryStrategy } from 'EPZEU.Core';
import { F014v_SupervisingBoardSupporters, F01230_AdministrativeBoardSupporter } from '../../Models/Fields/ModelsAutoGenerated'
import { withFieldContainer, FieldContainerProps, MandateUI, Person } from 'EPZEU.CR.Domain';
import { F01430_SupervisingBoardSupporterUI } from './F01430_SupervisingBoardSupporterUI';

const valSummaryPropNames = ["", "subject."];

class F014v_SupervisingBoardSupportersUI extends EPZEUBaseComponent<FieldContainerProps, F014v_SupervisingBoardSupporters> {

    renderEdit(): JSX.Element {
        return (

            <>
                <ValidationSummary {...this.props} propNames={valSummaryPropNames} strategy={ValidationSummaryStrategy.excludeAllExcept} includeErrorsRecursive={true} />
                <F01430_SupervisingBoardSupporterUI {...this.bind(x => x.supervisingBoardSupporterList)} newRecordCtor={() => {
                    return Nomenclatures.getBGCountry().then(bgCountry => {
                        var supervisingBoardSupporter = new F01230_AdministrativeBoardSupporter();

                        supervisingBoardSupporter.subject = new Person();
                        supervisingBoardSupporter.subject.countryCode = bgCountry.code;
                        supervisingBoardSupporter.subject.countryID = bgCountry.id;
                        supervisingBoardSupporter.subject.countryName = bgCountry.name;

                        return supervisingBoardSupporter;
                    })
                }} />
            </>);

    }

    renderDisplay(): JSX.Element {
        return (
            <>
                <F01430_SupervisingBoardSupporterUI {...this.bind(x => x.supervisingBoardSupporterList)} />
                <ValidationSummaryErrorsPreviewUI errors={this.props.modelReference.getErrors()} />

            </>
        );
    }
}

export const F014v_SupervisingBoardSupportersFieldUI = withFieldContainer(F014v_SupervisingBoardSupportersUI, {
    fieldLabelTextKey: "CR_F_14v_L"
});