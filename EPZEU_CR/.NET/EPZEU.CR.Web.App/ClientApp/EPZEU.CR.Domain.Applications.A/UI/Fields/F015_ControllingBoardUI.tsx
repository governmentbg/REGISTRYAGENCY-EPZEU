import { EPZEUBaseComponent, Nomenclatures } from 'EPZEU.Core';
import { FieldContainerProps, MandateUI, withFieldContainer, Person, SectionInfoUI, PersonType, SectionSubTitle } from 'EPZEU.CR.Domain';
import * as React from "react";
import { F015_ControllingBoard, F01501_ControllingBoardPerson } from '../../Models/Fields/ModelsAutoGenerated';
import { F01501_ControllingBoardPersonUI } from './F01501_ControllingBoardPersonUI';

const infoTextKeys1 = ['CR_APP_00089_I'];

class F015_ControllingBoardUI extends EPZEUBaseComponent<FieldContainerProps, F015_ControllingBoard> {

    renderEdit(): JSX.Element {
        return (<>
            <SectionInfoUI infoTextKey={infoTextKeys1} />
            <MandateUI {...this.bind(m => m.controllingBoardMandate)} />
            <SectionSubTitle subTitleTextKey={"CR_APP_MEMBERS_MONITORING_BOARD_L"} />
            <F01501_ControllingBoardPersonUI {...this.bind(x => x.controllingBoardPersonList)} newRecordCtor={() => {
                return Nomenclatures.getBGCountry().then(bgCountry => {
                    var manager = new F01501_ControllingBoardPerson();

                    manager.person = new Person();
                    manager.person.countryCode = bgCountry.code;
                    manager.person.countryID = bgCountry.id;
                    manager.person.countryName = bgCountry.name;
                    manager.person.type = PersonType.Subject;

                    return manager;
                })
            }} />
        </>);
    }

    renderDisplay(): JSX.Element {
        return (<>
            <MandateUI {...this.bind(m => m.controllingBoardMandate)} />
            <F01501_ControllingBoardPersonUI {...this.bind(x => x.controllingBoardPersonList)} />
        </>);
    }
}

export const F015_ControllingBoardFieldUI = withFieldContainer(F015_ControllingBoardUI, {
    fieldLabelTextKey: "CR_F_15_L"
});