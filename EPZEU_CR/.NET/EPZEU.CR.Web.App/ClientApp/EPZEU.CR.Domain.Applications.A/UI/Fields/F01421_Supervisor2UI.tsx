import { EPZEUBaseComponent, Nomenclatures, ValidationSummaryStrategy } from 'EPZEU.Core';
import { ListRecordsContainerProps, Person, PersonTypes, PersonUI, withListRecordsContainer } from 'EPZEU.CR.Domain';
import * as React from "react";
import { F01421_Supervisor2 } from '../../Models/Fields/ModelsAutoGenerated';

class F01421_Supervisor2UIImpl extends EPZEUBaseComponent<ListRecordsContainerProps, F01421_Supervisor2> {

    renderEdit(): JSX.Element {
        return (<PersonUI {...this.bind(m => m.subject)} PersonType={PersonTypes.Supervisor} />);
    }

    renderDisplay(): JSX.Element {
        return (<PersonUI {...this.bind(m => m.subject)} PersonType={PersonTypes.Supervisor} />);
    }
}

export const F01421_Supervisor2UI = withListRecordsContainer(F01421_Supervisor2UIImpl, F01421_Supervisor2, {
    addButtonLabelKey: "CR_APP_ADD_MEMBER_OF_SUPERVISORS_L",
    hasAtLeastOneRecord: true,
    valSummaryStrategy: ValidationSummaryStrategy.excludeAllExcept,
    valSummaryRecursive: true,
    valSummaryPropNames: ["", "subject."],
    newRecordCtor: () => {
        return Nomenclatures.getBGCountry().then(bgCountry => {
            var supervisor2 = new F01421_Supervisor2();

            supervisor2.subject = new Person();
            supervisor2.subject.countryCode = bgCountry.code;
            supervisor2.subject.countryID = bgCountry.id;
            supervisor2.subject.countryName = bgCountry.name;

            return supervisor2;
        })
    }
})