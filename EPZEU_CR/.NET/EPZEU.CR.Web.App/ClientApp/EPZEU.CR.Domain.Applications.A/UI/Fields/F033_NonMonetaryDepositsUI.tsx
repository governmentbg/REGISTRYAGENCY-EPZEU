import { attributesClassFormControlMaxL13TextRight, attributesClassFormControlMaxL14, attributesClassFormControlMaxL2, EPZEUBaseComponent } from 'EPZEU.Core';
import { ListRecordsContainerProps, withFieldSingleListRecordsContainer } from 'EPZEU.CR.Domain';
import * as React from "react";
import { F0330_NonMonetaryDeposit } from '../../Models/Fields/ModelsAutoGenerated';

class F033_NonMonetaryDepositUI extends EPZEUBaseComponent<ListRecordsContainerProps, F0330_NonMonetaryDeposit> {

    renderEdit(): JSX.Element {
        return (<>
            <div className="row">
                <div className="form-group col">
                    {this.labelFor(m => m.description, 'GL_TYPE_L')}
                    {this.textAreaFor(m => m.description)}
                </div>
            </div>
            <div className="row">
                <div className="form-group col-sm-6 col-lg-4">
                    {this.labelFor(m => m.value, 'GL_VALUE_L')}
                    <div className="form-row">
                        <div className="col">
                            {this.textBoxFor(x => x.value, attributesClassFormControlMaxL13TextRight, null)}
                        </div>
                        <div className="col-auto">
                            <div className="col-form-label">{this.getResource("GL_BGN_ABBRAVETION_L")}</div>
                        </div>
                    </div>
                </div>
            </div>
            <div className="form-row">
                <div className="col-12">
                    {this.labelFor(m => m.outgoingNumber.incomingNumber, 'CR_APP_ACT_APPOINT_NO_L')}
                </div>
                <div className="form-group col col-sm-4 col-xl-3">
                    {this.textBoxFor(x => x.outgoingNumber.incomingNumber, attributesClassFormControlMaxL14)}
                </div>
                <div className="form-group col-auto">
                    <span className="form-text">-</span>
                </div>
                <div className="form-group col-3 col-sm-2 col-xl-1">
                    {this.textBoxFor(x => x.outgoingNumber.docNumber, attributesClassFormControlMaxL2)}
                </div>
                <div className="form-group col-auto d-none d-sm-inline-block">
                    <span className="form-text">/</span>
                </div>
                <div className="form-group col-12 col-sm-4 col-xl-4">
                    {this.dateFor(x => x.outgoingNumber.outgoingDate)}
                </div>
            </div>
        </>)
    }

    renderDisplay(): JSX.Element {
        return (
            <>
                {this.model.description && <span className="preserve-line-breaks">{this.getResource('GL_TYPE_L')}: {this.model.description}</span>}
                {
                    /* слагаме br само ако сме показали нещо за description и ще покажем нещо след това */
                    (this.model.description && (this.model.value || (this.model.outgoingNumber && this.model.outgoingNumber.fullOutgoingNumber))) && <br />
                }
                {this.model.value && <>{this.getResource('GL_VALUE_L')}: {this.model.value} {this.getResource('GL_BGN_ABBRAVETION_L')}</>}
                {
                    /* слагаме br само ако сме показали нещо за this.model.value и ще покажем нещо след това */
                    (this.model.value && this.model.outgoingNumber && this.model.outgoingNumber.fullOutgoingNumber) && <br />
                }
                {this.model.outgoingNumber && this.model.outgoingNumber.fullOutgoingNumber && <>{this.getResource('CR_APP_ACT_APPOINT_NO_L')}: {this.model.outgoingNumber.fullOutgoingNumber}</>}
            </>
        );
    }
}

export const F033_NonMonetaryDepositFieldUI = withFieldSingleListRecordsContainer(F033_NonMonetaryDepositUI, F0330_NonMonetaryDeposit, {
    addButtonLabelKey: "CR_APP_ADD_PAYMENT_L",
    listSelector: m => m.nonMonetaryDepositsList,
    fieldLabelTextKey: "CR_F_33_L",
    hasAtLeastOneRecord: true
})