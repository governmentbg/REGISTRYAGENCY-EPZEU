import { EPZEUBaseComponent, Nomenclatures } from 'EPZEU.Core';
import { FieldContainerProps, ListRecordsContainerProps, MandateUI, withFieldContainer, Person, SectionSubTitle } from 'EPZEU.CR.Domain';
import * as React from "react";
import { F013g_BoardOfTrusties13g, F013g_Trustee13g } from '../../Models/Fields/ModelsAutoGenerated';
import { F013g_Trustee13gUI } from "./F013g_Trustee13gUI";


class F013g_BoardOfTrusties13gUI extends EPZEUBaseComponent<FieldContainerProps, F013g_BoardOfTrusties13g> {

    constructor(props?: ListRecordsContainerProps) {
        super(props);
    }

    renderEdit(): JSX.Element {
        return (
            <>
                <MandateUI {...this.bind(m => m.boardOfTrusties13gMandate)} />
                <SectionSubTitle subTitleTextKey={"CR_APP_MEMBERS_TRUSTIES_L"} />
                <F013g_Trustee13gUI {...this.bind(x => x.trustees13gList)} newRecordCtor={() => {
                    return Nomenclatures.getBGCountry().then(bgCountry => {
                        var manager = new F013g_Trustee13g();

                        manager.person = new Person();
                        manager.person.countryCode = bgCountry.code;
                        manager.person.countryID = bgCountry.id;
                        manager.person.countryName = bgCountry.name;

                        return manager;
                    })
                }} />
            </>);
    }

    renderDisplay(): JSX.Element {
        return (
            <>
                <MandateUI {...this.bind(m => m.boardOfTrusties13gMandate)} />
                <F013g_Trustee13gUI {...this.bind(x => x.trustees13gList)} />
            </>
        );
    }
}

export const F013g_BoardOfTrusties13gFieldUI = withFieldContainer(F013g_BoardOfTrusties13gUI, {
    fieldLabelTextKey: "CR_F_13g_L",
    isMandatoryField: true
});
