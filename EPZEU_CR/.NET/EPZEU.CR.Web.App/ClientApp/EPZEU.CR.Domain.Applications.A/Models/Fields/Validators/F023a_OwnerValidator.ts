import { ObjectHelper } from 'Cnsys.Core';
import { IndentTypes, RecordValidator } from 'EPZEU.CR.Domain';
import { F023a_Owner } from '../ModelsAutoGenerated';

export class F023a_OwnerValidator extends RecordValidator<F023a_Owner> {

    public validateInternal(obj: F023a_Owner): boolean {
        obj.clearErrors(true); 
        let isValid = super.validateInternal(obj);

        if (ObjectHelper.isStringNullOrEmpty(obj.subject.name) && ObjectHelper.isStringNullOrEmpty(obj.subject.indent)) {

            obj.addError(this.getMessage('GL_INPUT_FIELD_MUST_E')); //Полето е задължително.
            return false;

        } else if ((!ObjectHelper.isStringNullOrEmpty(obj.subject.name) && ObjectHelper.isStringNullOrEmpty(obj.subject.indent))
            || (ObjectHelper.isStringNullOrEmpty(obj.subject.name) && !ObjectHelper.isStringNullOrEmpty(obj.subject.indent))) {

            obj.addError(this.getMessage('GL_INPUT_NAME_ID_E')); //Попълнете име и идентификатор.
            isValid = false;
        }

        if (!ObjectHelper.isStringNullOrEmpty(obj.subject.indent) && obj.subject.indentType != IndentTypes.UIC) {

            obj.subject.clearErrors(true);
            obj.subject.addError('indent', this.getMessage('GL_INVALID_IDENTIFIER_E'))
            isValid = false;
        }

        return isValid;
    }
}