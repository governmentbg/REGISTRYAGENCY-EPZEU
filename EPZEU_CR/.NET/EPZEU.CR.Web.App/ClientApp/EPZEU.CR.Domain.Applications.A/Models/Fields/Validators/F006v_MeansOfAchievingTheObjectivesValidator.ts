import { ApplicationFormTypes } from 'EPZEU.CR.Core';
import { RecordOperations, RecordValidator } from 'EPZEU.CR.Domain';
import { F006v_MeansOfAchievingTheObjectives } from '../ModelsAutoGenerated';

export class F006v_MeansOfAchievingTheObjectivesValidator extends RecordValidator<F006v_MeansOfAchievingTheObjectives> {
    constructor() {
        super();
        var that = this;

        //Полето е задължително за попълване в описаните заявления.
        this.ruleFor(m => m.text).notEmpty().when(m => m.recordOperation != RecordOperations.Erase
            && (that.validationContext.appType == ApplicationFormTypes.A15 ||
                that.validationContext.appType == ApplicationFormTypes.A16 ||
                that.validationContext.appType == ApplicationFormTypes.A18))
            .withMessage(this.getMessage('GL_INPUT_FIELD_MUST_E'));
    }

    public validateInternal(obj: F006v_MeansOfAchievingTheObjectives): boolean {

        if (this.validationContext.appType == ApplicationFormTypes.A15 || this.validationContext.appType == ApplicationFormTypes.A16 || this.validationContext.appType == ApplicationFormTypes.A18) {

            let isValid = super.validateInternal(obj);

            return isValid;

        } else {
            return true;
        }
    }
}