import { ObjectHelper } from 'Cnsys.Core';
import { PersonWithCountyValidator, RecordValidator } from 'EPZEU.CR.Domain';
import { F009_ChairMan } from '../ModelsAutoGenerated';

export class F009_ChairManValidator extends RecordValidator<F009_ChairMan> {
    constructor() {
        super();
        
        this.ruleFor(m => m.person).setValidator(new PersonWithCountyValidator());       
    }

    public validateInternal(obj: F009_ChairMan): boolean {
        let isValid = super.validateInternal(obj);

        if (ObjectHelper.isStringNullOrEmpty(obj.person.indent) && ObjectHelper.isStringNullOrEmpty(obj.person.name)) {

            //Грешката се визуализира когато има непопълнено поле Име  и / или идентификатор
            obj.addError(this.getMessage('GL_INPUT_NAME_ID_E')); //Попълнете име и идентификатор
            isValid = false;
        }
        
        return isValid;
    }
}