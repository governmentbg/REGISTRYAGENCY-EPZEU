import { ApplicationFormBaseManager, Address, DeedsDataService } from 'EPZEU.CR.Domain'
import { E1 } from '../Models/ModelsAutoGenerated';
import { ClientError, ObjectHelper } from 'Cnsys.Core';

export class E1FormManager extends ApplicationFormBaseManager<E1> {

    public get canFillAppExchangeAddress(): boolean {
        return true;
    }

    public getSeatAddress(): Promise<Address> {
        return new DeedsDataService().getCompanySeat(this.application.uic.text).then((seat) => {
            if (seat) {
                return JSON.parse(JSON.stringify(seat.address));
            }
            else {
                return null;
            }
        });
    }

    protected createApplication(obj: any): E1 {
        return new E1(obj);
    }
}