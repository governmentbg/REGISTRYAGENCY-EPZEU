import { BaseProps } from 'Cnsys.UI.React';
import { EPZEUBaseComponent, ValidationSummary, ValidationSummaryStrategy } from 'EPZEU.Core';
import { ApplicationFormTypes } from 'EPZEU.CR.Core';
import { ApplicationFormContextProviderProps, ApplicationTitleUI, DocumentsUI, SectionTitleUI, withApplicationFormContext } from "EPZEU.CR.Domain";
import * as React from "react";
import { E1 } from "../../Models/ModelsAutoGenerated";
import { ConformityWithLawReasonUI } from "../ConformityWithLawReasonUI";

interface E1UIProps extends BaseProps, ApplicationFormContextProviderProps {
}

class E1UIImpl extends EPZEUBaseComponent<E1UIProps, E1> {

    renderEdit(): JSX.Element {

        return (<>
            <ApplicationTitleUI appType={ApplicationFormTypes.E1} />
            <SectionTitleUI titleKey={'CR_GL_CERTIFICATE_OF_LEGALITY_L'} anchor="certificateLegality" />
            <ValidationSummary {...this.bind(m => m.conformityWithLawReason)} strategy={ValidationSummaryStrategy.includeOnlyModelErrors} />
            <ConformityWithLawReasonUI {...this.bind(m => m.conformityWithLawReason)} />
            <SectionTitleUI titleKey={'GL_APPLIEDS_L'} anchor="documents" />
            <DocumentsUI {...this.bind(m => m.documents)} possibleDocumentTypesGetter={this.props.applicationManager.getPossibleAttachedDocumentTypes} />
        </>);
    }

    renderDisplay(): JSX.Element {
        return (<>
            <ApplicationTitleUI appType={ApplicationFormTypes.E1} />
            <SectionTitleUI titleKey={'CR_GL_CERTIFICATE_OF_LEGALITY_L'} anchor="certificateLegality" isForPreview />
            <ConformityWithLawReasonUI {...this.bind(m => m.conformityWithLawReason)} />
            {this.props.applicationManager.processContext.isDraftApplicationProcess()
                && <>
                    <SectionTitleUI titleKey={'CR_APP_ATTACHED_DOCUMENTS_L'} anchor="documents" isForPreview={true} />
                    <DocumentsUI {...this.bind(m => m.documents)} possibleDocumentTypesGetter={this.props.applicationManager.getPossibleAttachedDocumentTypes} />
                </>
            }
        </>);
    }
}

export const E1UI = withApplicationFormContext(E1UIImpl);