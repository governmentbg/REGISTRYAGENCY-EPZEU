import { moduleContext, ObjectHelper } from "Cnsys.Core";
import { BaseProps } from "Cnsys.UI.React";
import { EPZEUBaseComponent, ValidationSummary, ValidationSummaryStrategy } from 'EPZEU.Core';
import { AddressUI, PersonTypes, PersonUI } from 'EPZEU.CR.Domain';
import * as React from "react";
import { F029_PersonConcerned } from "../../Models/ModelsAutoGenerated";

export class F029_PersonConcernedUI extends EPZEUBaseComponent<BaseProps, F029_PersonConcerned> {

    renderEdit(): JSX.Element {
        return <>
            <div className="field-container">
                <div className="row">
                    <div className="col">
                        <h2 className="field-title field-title--form required-field">{moduleContext.resourceManager.getResourceByKey('CR_F_29_L')}</h2>
                    </div>
                </div>
                <div className="row">
                    <div className="col">
                        <div className="help-text">
                            <p>{moduleContext.resourceManager.getResourceByKey('CR_APP_00058_I')}<br /></p>
                        </div>
                        <ValidationSummary {...this.bind(x => x.subject)} strategy={ValidationSummaryStrategy.includeOnlyModelErrors} />
                        <PersonUI {...this.bind(m => m.subject)} PersonType={PersonTypes.PersonConcerned} />
                        <AddressUI {...this.bind(m => m.address)} disabledCountry={false} />
                        <div className="row">
                            <div className="form-group col">
                                {this.labelFor(m => m.quality, 'CR_GL_IN_CAPACITY_AS_L')}
                                {this.textBoxFor(m => m.quality)}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </>
    }

    renderDisplay(): JSX.Element {

        return (<>
            <div className="field-container">
                <div className="row">
                    <div className="col">
                        <h2 className="field-title field-title--preview">{moduleContext.resourceManager.getResourceByKey('CR_F_29_L')}</h2>
                    </div>
                </div>
                <div className="row">
                    <div className="col">
                        <PersonUI {...this.bind(m => m.subject)} PersonType={PersonTypes.PersonConcerned} />
                        <ValidationSummary {...this.bind(x => x.subject)} includeErrorsRecursive={true} />
                        <AddressUI {...this.bind(m => m.address)} disabledCountry={false} />
                        <ValidationSummary {...this.bind(x => x.address)} includeErrorsRecursive={true} />
                        {
                            ObjectHelper.isStringNullOrEmpty(this.model.quality) ?
                                null :
                                <div className="row">
                                    <div className="col">
                                        {this.getResource('CR_GL_IN_CAPACITY_AS_L')}                                       
                                        <>:&nbsp;</>{this.model.quality}
                                    </div>
                                </div>
                        }
                    </div>
                </div>
            </div>
        </>);
    }
}