import { ApplicationFormBaseValidator } from 'EPZEU.CR.Domain';
import { ConformityWithLawReasonValidator } from '../../Validators/ConformityWithLawReasonValidator';
import { E1 } from '../../ModelsAutoGenerated';
import { ErrorLevels } from 'Cnsys.Core';

export class E1Validator extends ApplicationFormBaseValidator<E1> {
    constructor() {
        super();

        this.ruleFor(m => m.conformityWithLawReason).setValidator(new ConformityWithLawReasonValidator());
    }

    public validate(obj: E1): boolean {
        let isValid = super.validate(obj);

        if (obj.documents == null || obj.documents.length == 0) {
            obj.addError('documents', this.getMessage('GL_NOATTACHED_DOCUMENTS_E'), ErrorLevels.Error);
            isValid = false;
        }

        return isValid;
    }
}

