import { ObjectHelper } from 'Cnsys.Core';
import { EPZEUBaseValidator } from 'EPZEU.Core';
import { SimpleAddressValidator } from 'EPZEU.CR.Domain';
import { Refusal } from '../ModelsAutoGenerated';

export class RefusalValidator extends EPZEUBaseValidator<Refusal, any> {

    constructor() {
        super();

        this.ruleFor(m => m.address).setValidator(new SimpleAddressValidator());
    }

    public validate(obj: Refusal): boolean {
        let isValid = super.validate(obj);

        if (ObjectHelper.isStringNullOrEmpty(obj.incomingNo)) {
            obj.addError('incomingNo', this.getMessage('GL_INPUT_INCOMING_NO_E'));
            isValid = false;
        }

        return isValid;
    }
}