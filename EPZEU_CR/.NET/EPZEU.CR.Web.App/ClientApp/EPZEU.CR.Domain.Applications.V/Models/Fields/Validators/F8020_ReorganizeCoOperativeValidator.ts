import { RecordValidator } from 'EPZEU.CR.Domain';
import { F8020_CoOperative } from '../ModelsAutoGenerated';
import { CompanyValidator } from './CompanyValidator';

export class F8020_ReorganizeCoOperativeValidator extends RecordValidator<F8020_CoOperative> {
    constructor() {
        super();

        this.ruleFor(m => m.subject).setValidator(new CompanyValidator());
    }

    public validateInternal(obj: F8020_CoOperative): boolean {
        let isValid = super.validateInternal(obj);

        let onlyNameFilled = obj.subject.name && !obj.subject.indent;
        let onlyIdentFilled = !obj.subject.name && obj.subject.indent;

        if (onlyNameFilled || onlyIdentFilled) {
            obj.addError(this.getMessage('GL_INPUT_NAME_ID_E'));  // Попълнете име и идентификатор.
            isValid = false;
        }

        return isValid;
    }
}