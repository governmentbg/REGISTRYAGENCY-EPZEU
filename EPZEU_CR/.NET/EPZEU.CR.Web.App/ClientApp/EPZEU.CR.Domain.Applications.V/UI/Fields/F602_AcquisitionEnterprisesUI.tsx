import { AsyncUIProps, withAsyncFrame } from "Cnsys.UI.React";
import { EPZEUBaseComponent, ValidationSummaryStrategy } from 'EPZEU.Core';
import { ListRecordsContainerProps, PersonTypes, PersonUI, withFieldSingleListRecordsContainer } from 'EPZEU.CR.Domain';
import { observer } from 'mobx-react';
import * as React from "react";
import { F6020_AcquisitionEnterprise } from '../../Models/Fields/ModelsAutoGenerated';

interface F602_AcquisitionEnterprisesProps extends ListRecordsContainerProps, AsyncUIProps {
    onUICChange?: (uic: string) => void;
}

@observer class F602_AcquisitionEnterprisesUI extends EPZEUBaseComponent<F602_AcquisitionEnterprisesProps, F6020_AcquisitionEnterprise> {

    renderEdit(): JSX.Element {
        return (<>
            <PersonUI {...this.bind(m => m.subject, 'transformingCompany')} PersonType={PersonTypes.Acquisition} onUICChange={this.props.onUICChange} />
        </>)
    }

    renderDisplay(): JSX.Element {
        return (<>
            <PersonUI {...this.bind(m => m.subject, 'transformingCompany')} PersonType={PersonTypes.Acquisition} />
        </>);
    }
}

export const F602_AcquisitionEnterprisesFieldUI = withFieldSingleListRecordsContainer(F602_AcquisitionEnterprisesUI, F6020_AcquisitionEnterprise, {
    listSelector: m => m.acquisitionEnterpriseList,
    fieldLabelTextKey: "CR_F_602_L",
    hasOnlyOneRecord: true,
    isMandatoryField: true,
    valSummaryStrategy: ValidationSummaryStrategy.excludeAllExcept,
    valSummaryRecursive: true,
    valSummaryPropNames: ["", "subject"]
});

export const F602_AcquisitionEnterprisesFieldListUI = withFieldSingleListRecordsContainer(withAsyncFrame(F602_AcquisitionEnterprisesUI), F6020_AcquisitionEnterprise, {
    listSelector: m => m.acquisitionEnterpriseList,
    addButtonLabelKey: 'CR_APP_ADD_SUCCESSOR_L',
    fieldLabelTextKey: "CR_F_602_L",
    hasAtLeastOneRecord: true,
    isMandatoryField: true,
    valSummaryStrategy: ValidationSummaryStrategy.excludeAllExcept,
    valSummaryRecursive: true,
    valSummaryPropNames: ["", "subject"]
});