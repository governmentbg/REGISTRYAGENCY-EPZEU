import { AsyncUIProps, withAsyncFrame } from "Cnsys.UI.React";
import { EPZEUBaseComponent, ValidationSummaryStrategy } from 'EPZEU.Core';
import { ListRecordsContainerProps, PersonTypes, PersonUI, withFieldSingleListRecordsContainer } from 'EPZEU.CR.Domain';
import { observer } from 'mobx-react';
import * as React from "react";
import { F8020_CoOperative } from '../../Models/Fields/ModelsAutoGenerated';

interface F802_ReorganizeCoOperativesProps extends ListRecordsContainerProps, AsyncUIProps {
    onUICChange?: (uic: string) => void;
}

@observer class F802_ReorganizeCoOperativesUI extends EPZEUBaseComponent<F802_ReorganizeCoOperativesProps, F8020_CoOperative> {

    renderEdit(): JSX.Element {
        return (<>
            <PersonUI {...this.bind(m => m.subject, 'CoOperative')} PersonType={PersonTypes.CoOperative} onUICChange={this.props.onUICChange} />
        </>)
    }

    renderDisplay(): JSX.Element {
        return (<>
            <PersonUI {...this.bind(m => m.subject, 'CoOperative')} PersonType={PersonTypes.CoOperative} />
        </>);
    }
}

export const F802_TransformingCompanyFieldUI = withFieldSingleListRecordsContainer(withAsyncFrame(F802_ReorganizeCoOperativesUI), F8020_CoOperative, {
    listSelector: m => m.coOperativeList,
    fieldLabelTextKey: "CR_F_802_L",
    hasOnlyOneRecord: true,
    isMandatoryField: true,
    valSummaryStrategy: ValidationSummaryStrategy.excludeAllExcept,
    valSummaryRecursive: true,
    valSummaryPropNames: ["", "subject"]
});

export const F802_TransformingCompanyFieldListUI = withFieldSingleListRecordsContainer(withAsyncFrame(F802_ReorganizeCoOperativesUI), F8020_CoOperative, {
    listSelector: m => m.coOperativeList,
    addButtonLabelKey: 'CR_APP_ADD_COOPERATION_L',
    fieldLabelTextKey: "CR_F_802_L",
    hasAtLeastOneRecord: true,
    isMandatoryField: true,
    valSummaryStrategy: ValidationSummaryStrategy.excludeAllExcept,
    valSummaryRecursive: true,
    valSummaryPropNames: ["", "subject"]
});