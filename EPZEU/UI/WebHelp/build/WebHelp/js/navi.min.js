/*! HelpSmith Web Help System 3.0
* http://www.helpsmith.com
* Copyright (c) 2007-2019 Divcom Software */
function hsNaviObj(){function n(a){var b=$('<div id="sort-result-header"></div>');$('<span class="se-message"></span>').append(a).appendTo(b);$("#search-result").empty().append(b)}function r(a){var c=function(a,b){return a.data("title").localeCompare(b.data("title"))};b.$searchResultTree.hsTree("sortChildren","title"==a?c:function(a,b){return a.data("hsRank")==b.data("hsRank")?c(a,b):b.data("hsRank")-a.data("hsRank")});$.cookie("hswh-ssd",b.searchResultSortKind,{expires:30,path:"/"})}function t(a){p||
q?p&&a(!0):(q=!0,$.getScript("js/search-index.min.js").done(function(){p=!0;q=!1;a(!0)}).fail(function(){q=!1;a(!1)}))}var b=this;this.ready=!1;this.searchResultSortKind="rank";this.currentTopicContext=-1;this.hlKeywordNode=null;var p=this.specKeyPressedOnPopupLink=!1,q=!1;this.init=function(){var a=$.cookie("hswh-ssd");this.searchResultSortKind="title"!=a&&"rank"!=a?this.searchResultSortKind:a;$("#tabs").tabs({activate:function(){b.updateCurrentTab()}}).addClass("hs-ready");a=getWHSettings("tocAtimateExpandingCollapsingDuration",
0);this.$tocTree=$("#toc-tree");this.$tocTree.hsTree({expandSpeed:0>a?0:a,autoCollapse:getWHSettings("tocOnlyExpandSingleHeading",!1),noButtons:this.$tocTree.hasClass("hs-btn-none"),noIcons:this.$tocTree.hasClass("hs-icons-none"),onActivate:function(a){var d=a.find("> .hstree-node-cnt a");if(1==d.length){var c=d.attr("href");c&&"#"!=c&&(window.open(c,d.attr("target")),b.closeNavi())}getWHSettings("tocAutoExpandOnActivate",!1)&&b.$tocTree.hsTree("expandNode",a)},onCanReActivate:function(a){a=a.find("> .hstree-node-cnt a");
return 1==a.length&&(a=a.attr("target").toLowerCase(),"_blank"==a||"_top"==a)?!0:!1}});this.$indexTree=$("#index-tree").hsTree({expandSpeed:0,onNodeRender:function(a){a.find("> .hstree-node-btn, > .hstree-node-cnt .hstree-node-icon").remove()},onQueryExpand:function(a,b){if(!b)return!1},onClick:function(a){var c=b.$indexTree.hsTree("getActiveNode");c&&c.is(a)&&b.$indexTree.hsTree("reActivateNode")},onActivate:function(a){var c=a.attr("data-topics");if("undefinded"!==typeof c){try{c=eval("["+c+"]")}catch(h){c=
[]}if("object"===typeof c&&1<c.length){b.showKwdTopicList(a,c);return}}c=a.find("> .hstree-node-cnt a");if(1==c.length){var d=c.attr("href");if(d&&"#"!=d){b.destroyPopupBox();window.open(d,c.attr("target"));b.closeNavi();return}}b.showKwdNoEntryWarning(a)}});this.$indexTree.find(".hstree-node").each(function(){b.$indexTree.hsTree("expandNode",$(this))});this.$indexTree.on("scroll",function(){b.destroyPopupBox()});$("input#kwd-search").on("keyup",function(a){b.selectKeyword($(this),a.which)});a=$("#search-form");
if(a.length){var c=a.find(".search-btn");if(c.length)c.on("click",function(){b.search()});a=a.find("input#squery");if(a.length)a.on("keyup",function(a){13==a.which&&(a.preventDefault(),b.search())})}$("body").on("keydown",function(a){switch(a.which){case 27:var c=b.getSelectedTab();"tab-index"==c?$("#popup-box").length&&(a.preventDefault(),b.specKeyPressedOnPopupLink=!0,b.destroyPopupBox(),$("input#kwd-search").focus()):"tab-search"==c&&$("#sorting-popup-menu").is(":visible")&&(a.preventDefault(),
b.hideSortingPopupMenu());break;case 38:case 40:"tab-index"==b.getSelectedTab()&&(c=$("#popup-box"),c.length&&!c.find(".hs-popuplink:focus").length&&(c=c.find(".hs-popuplink"),c.length&&(a.preventDefault(),40==a.which?c.first().focus():c.last().focus())))}}).on("mousedown",function(a){var c=b.getSelectedTab();"tab-index"==c?(c=$("#popup-box:visible"),c.length&&!$(a.target).closest(c).length&&b.destroyPopupBox()):"tab-search"==c&&(c=$("#sorting-popup-menu:visible"),c.length&&!$(a.target).closest(c).length&&
b.hideSortingPopupMenu())});$(window).on("resize.hsNaviObj",function(){b.alignTabPanel();b.alignIndexTree();b.alignSearchResultTree();b.updatePopupBoxWidth();b.hideSortingPopupMenu()}).trigger("resize.hsNaviObj")};this.closeNavi=function(){var a=window.parent.document;a&&$("#hs-header-m",a).is(":visible")&&window.parent.window.hsWebHelp.showNavi(!1)};this.getTextLabel=function(a,c,b){(a=$("body").attr("data-"+a))||(a=c);"undefined"!==typeof b&&(a=a.replace("%s",b));return a};this.createPopupBox=function(){var a=
$("<div></div>").attr("id","popup-box"),c=$("<div></div>").addClass("container").appendTo(a);$("<div></div>").addClass("content").appendTo(c);return a};this.calcPopupBoxWidth=function(a,c){"undefined"===typeof c&&(c=a.position().left);var b=$(window).width()-2*c-(a.outerWidth(!0)-a.width());350<b&&(b=350);return b};this.updatePopupBoxWidth=function(a){"undefined"===typeof a&&(a=$("#popup-box"));a.length&&a.css("width",this.calcPopupBoxWidth(a))};this.alignPopupBox=function(a,b){var c=a.find("> .hstree-node-cnt a"),
e=c.offset();b.css("width",this.calcPopupBoxWidth(b,e.left));var f=!0;c=e.top+c.outerHeight(!0)+11;c+b.outerHeight(!0)>$(window).height()&&(f=!1,c=e.top-b.outerHeight(!0)-11);b.css({top:c,left:e.left});f?b.addClass("pos-bottom"):b.addClass("pos-top")};this.showKwdNoEntryWarning=function(a){this.destroyPopupBox();var b=this.createPopupBox();b.find("div.content").addClass("message").append(this.getTextLabel("index-noentry","To locate information about this keyword, please select one of the subentries in the list."));
$("#tab-index").append(b);this.alignPopupBox(a,b);b.stop(!0,!0).fadeIn("fast")};this.showKwdTopicList=function(a,c){this.destroyPopupBox();var d=this.createPopupBox(),e=d.find("div.content");e=$("<ul></ul>").appendTo(e);for(var f=0;f<c.length;f++){var h=gTopicTable[c[f]],l=$("<li></li>").appendTo(e),k=a.find("> .hstree-node-cnt a").attr("target");h=$('<a class="hs-popuplink"></a>').attr({href:h[3]}).append(h[2]);k&&h.attr({target:k});h.on("keydown",function(a){var c=d.find("a.hs-popuplink").toArray(),
k=$.inArray(this,c);switch(a.which){case 32:a.preventDefault();this.click();break;case 38:a.preventDefault();0<k&&c[--k].focus();break;case 40:a.preventDefault();k<c.length-1&&c[++k].focus();break;case 13:b.specKeyPressedOnPopupLink=!0}}).on("click",function(){b.destroyPopupBox();$("input#kwd-search").focus();b.closeNavi()}).appendTo(l)}$("#tab-index").append(d);this.alignPopupBox(a,d);d.stop(!0,!0).fadeIn("fast")};this.selectKeyword=function(a,c){function d(a,c,h){var k=null;if(a.length&&h<c.length){var f=
/[.;,:()_{}"\/\\|<>!\?\[\]\-\+\*=%&@#]/g,g=$.trim(c[h]);g&&(g=g.replace(f,""));if(g){g=g.toLowerCase();for(var l=0;l<a.length;l++){var e=$(a[l]),m=e.data("title");m&&(m=m.replace(f,""));if(m&&(m=m.toLowerCase(),m.charAt(0)==g.charAt(0))){if(m.substring(0,g.length)==g){k=e;break}if(0<m.localeCompare(g)){a:{a=m;for(g=g.substring(0,g.length-1);""!=g;g=g.substring(0,g.length-1))if(a.substring(0,g.length)==g){g=!0;break a}g=!1}g&&(k=e);break}else k=e}}}}return k?(c=d(b.$indexTree.hsTree("getChildren",
k),c,++h))?c:k:null}function e(){b.hlKeywordNode&&b.hlKeywordNode.removeClass("hs-highlight")}if(b.specKeyPressedOnPopupLink)b.specKeyPressedOnPopupLink=!1;else{var f=null,h=a.val().split(",");h.length&&(f=d(this.$indexTree.hsTree("getChildren"),h,0));(function(a){a?b.hlKeywordNode&&a.is(b.hlKeywordNode)||(e(),b.hlKeywordNode=a,b.hlKeywordNode&&b.hlKeywordNode.addClass("hs-highlight"),b.destroyPopupBox()):(e(),b.hlKeywordNode=null,b.destroyPopupBox())})(f);(function(){var a=0;b.hlKeywordNode&&(l=
b.$indexTree.find("> ul.hstree-root > li:first-child"),l.length&&(l.is(b.hlKeywordNode)||(a=b.hlKeywordNode.position().top+b.$indexTree.scrollTop())));b.$indexTree.scrollTop(a)})();if(13==c&&b.hlKeywordNode){var l=b.$indexTree.hsTree("getActiveNode");l&&l.is(b.hlKeywordNode)?b.$indexTree.hsTree("reActivateNode"):b.$indexTree.hsTree("setActiveNode",b.hlKeywordNode)}}};this.getSelectedTab=function(){var a=$("#tabs li.ui-tabs-active > a").attr("href");""!=a&&(a=a.substring(1));return a};this.alignTabPanel=
function(){$("#tabs .ui-tabs-panel:visible").css("height",$(window).height()-$("#tabs .ui-tabs-nav").outerHeight(!0))};this.alignIndexTree=function(){var a=$("#kwd-search-box:visible");0!=a.length&&this.$indexTree.is(":visible")&&this.$indexTree.css("height",$(window).height()-(a.position().top+a.outerHeight(!0)))};this.alignSearchResultTree=function(){var a=$("#sort-result-header:visible");0!=a.length&&$("#search-result-tree:visible").css("height",$(window).height()-(a.position().top+a.outerHeight(!0)))};
this.destroyPopupBox=function(){$("#popup-box").stop(!0,!0).hide().remove()};this.setCurrentTopic=function(a){"tab-toc"==this.getSelectedTab()&&this.activateTocNode(a);this.currentTopicContext=a;if(0<=this.currentTopicContext&&(a=$("#search-result-tree"),a.length)){var b=a.hsTree("getActiveNode");b&&gTopicTable[b.data("hsTopicIndex")][0]!=this.currentTopicContext&&a.hsTree("setActiveNode",null)}};this.activateTocNode=function(a){if(this.$tocTree&&this.$tocTree.length){var b=this.$tocTree.hsTree("getActiveNode");
if(b&&a==b.attr("data-context"))return!0;if(b=this.$tocTree.hsTree("getNodeByData","context",a))return this.$tocTree.hsTree("setActiveNode",b,!0),b.find("> .hstree-node-cnt a").focus(),!0}return!1};this.updateCurrentTab=function(){this.alignTabPanel();switch(this.getSelectedTab()){case "tab-toc":0<=this.currentTopicContext&&this.activateTocNode(this.currentTopicContext);this.destroyPopupBox();break;case "tab-index":this.alignIndexTree();$("input#kwd-search").focus();break;case "tab-search":p=p||0<
$('head script[src*="search-index.min.js"]').length,this.alignSearchResultTree(),$("input#squery").focus(),this.destroyPopupBox()}};this.hideSortingPopupMenu=function(){$("#sorting-popup-menu:visible").stop(!0,!0).fadeOut("fast")};this.createSortingPopupMenu=function(){function a(a,b,c,h){$('<li id="'+b+'" class="menu-item"></li>').append(c).appendTo(a).on("click",h)}var c=$('<ul id="sorting-popup-menu"></ul>');a(c,"sort-by-rank",b.getTextLabel("sort-byrank","Most relevant"),function(a){a.stopPropagation();
b.hideSortingPopupMenu();r(b.searchResultSortKind="rank")});a(c,"sort-by-title",b.getTextLabel("sort-bytitle","Topic title"),function(a){a.stopPropagation();b.hideSortingPopupMenu();r(b.searchResultSortKind="title")});return c};this.showResultBar=function(a){var c=$("<table></table>"),d=$("<tr></tr>").appendTo(c),e=$("<td></td>").appendTo(d);$('<span class="se-message"></span>').appendTo(e).append(a);a=$("<td></td>").appendTo(d);var f=$('<div id="sort-control" class="text-label"></div>').append(b.getTextLabel("sort-title",
"Sort by")).on("click",function(a){a.stopPropagation();if(!f.find("#sorting-popup-menu:visible").length){a=f;switch(b.searchResultSortKind){case "title":a.find("#sort-by-title").addClass("menu-item-checked");a.find("#sort-by-rank").removeClass("menu-item-checked");break;case "rank":a.find("#sort-by-title").removeClass("menu-item-checked"),a.find("#sort-by-rank").addClass("menu-item-checked")}var c=$("#sorting-popup-menu"),k=a.offset(),d=!0,e=k.top+a.outerHeight()+12;e+c.outerHeight(!0)>$(window).height()&&
(e=k.top-c.outerHeight(!0)-12,d=!1);c.css({top:e,left:k.left+a.outerWidth()-c.outerWidth()});d?(c.addClass("pos-bottom"),c.removeClass("pos-top")):(c.addClass("pos-top"),c.removeClass("pos-bottom"));c.stop(!0,!0).fadeIn("fast")}});f.appendTo(a).append(this.createSortingPopupMenu());c=$('<div id="sort-result-header"></div>').append(c);$("#search-result").empty().append(c)};this.doSearch=function(){var a=new searchEngine;if(a.search($("input#squery").val(),"phrase"==$('input[type="radio"][name="match"]:checked').val())){for(var c=
$("<ul></ul>"),d=b.$tocTree.hasClass("hs-icons")?"hs-icons":b.$tocTree.hasClass("hs-icons-c")?"hs-icons-c":"",e=0;e<a.resultItems.length;e++){var f=a.resultItems[e],h=$("<li/>").appendTo(c).attr({title:f.getTitle()}).data({hsRank:f.rank,hsTopicIndex:f.topicIndex,hsHlValue:f.getWordsParamValue()});if("hs-icons"==d){var l=f.getIconClass();l&&h.addClass(l)}$("<a></a>").attr({href:f.getRef(),target:"topic"}).appendTo(h).append(f.getTitle())}this.showResultBar(b.getTextLabel("search-found","%s topic(s) found:",
a.resultItems.length));b.$searchResultTree=$('<div id="search-result-tree"></div>').append(c).appendTo("#search-result");d&&b.$searchResultTree.addClass(d);b.alignSearchResultTree();b.$searchResultTree.hsTree({onNodeRender:function(a){a.find("> .hstree-node-btn").remove()},onActivate:function(a){var c=a.find("> .hstree-node-cnt a");if(1==c.length){var d=c.attr("href");d&&"#"!=d&&(d=d+"?highlight="+a.data("hsHlValue"),window.open(d,c.attr("target")),b.closeNavi())}},onDeactivate:function(a){a.addClass("visited-topic")}});
r(b.searchResultSortKind)}else b.$searchResultTree=null,n(b.getTextLabel("search-notopics","No topics found."));switch(a.searchMatch){case tSearchMatch.EXACT:$("input#anywords").prop("checked",!0);break;case tSearchMatch.PHRASE:$("input#phrase").prop("checked",!0)}};this.search=function(){var a=$('<div id="search-wait"></div>');$("#search-result").empty().append(a);t(function(a){a?b.doSearch():n("Error: Unable to load search index.")})}}var hsNavi=new hsNaviObj;
$(document).ready(function(){hsNavi.init();if($("#hs-index-p",parent.window.document).length){var n=null;n=parent.window.hsWebHelp;if(!n)return;$(window).on("resize",function(){$("body").toggleClass("hs-mobile",n.isMobileMode())}).trigger("resize")}hsNavi.ready=!0});